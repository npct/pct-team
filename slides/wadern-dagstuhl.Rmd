---
title: 'Scalable methods for modelling movement patterns: from areal to road segment levels'
author: Robin Lovelace
date: "Dagstuhl Summer School on movement patterns, `r Sys.Date()`"
output:
  ioslides_presentation:
    widescreen: true
logo: ../figures/its-logo-square.png
bibliography: /home/robin/allrefs.bib
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

## Outline

> - Introductory comments
> - Demonstration
> - Discussion

# Introductory comments

## What do I mean by 'scalable'

> Large surface area (countries, planets)
> Reproducible, e.g. for infinite new scenarios of future
> Accessible - so results can 'scale' to be seen and *used interactively* by millions of people
> Resilient: methods can operate in data rich and data poor environments

## Context (see the ['CWIS' report](https://www.gov.uk/government/publications/cycling-and-walking-investment-strategy))

- 2 years in the making, the PCT is now part of the Cycling and Walking Infrastructure Strategy (CWIS)
- Mentioned in the forword of this legally binding document
- Being used by dozens of local authorities to design strategic cycling networks

```{r}
knitr::include_graphics("../../pct/figures/front-page-leeds-pct-demo.png")
```

## The propensity to cycle tool method | Source:  [Source:](https://www.jtlu.org/index.php/jtlu/article/view/862) (Lovelace et al. 2017)

```{r}
knitr::include_graphics("../flow-model/od-scens-leeds.png")
```

# Demonstration

## A spatial interaction model (Lovelace and Ellison, in press)

```{r, echo=TRUE}
library(stplanr)
cents$pop = 1:nrow(cents)
plot(cents, cex = cents$pop)
```

## The radiation model [@simini_universal_2012]

```{r, message=FALSE, echo=TRUE}
flow_est = od_radiation(p = cents, pop_var = "pop")
plot(flow_est, lwd = flow_est$flow)
```

## For England we have OD data

See [www.pct.bike](https://www.pct.bike/)

```{r}
knitr::include_graphics("../flow-model/leeds-rnet-gov-go.png")
```

## For Spain we do not - so model it

See [rpubs.com/RobinLovelace](http://rpubs.com/RobinLovelace/275315)

```{r}
knitr::include_graphics("../figures/sev-eg.png")
```

# Discussion

## Technical issues

> - For scalability generalisability is vital
> - software engineering/compsci approach
> - But political leadership vital

## Wider issues

> - Links with the Cycling Infrastructure Prioritisation Toolkit (CyIPT)

![](https://avatars0.githubusercontent.com/u/26133780?v=3&s=200)

> - How to institutionalise the open (data, science) approach
> - Citizen science / crowd funded add-ons
> - Next case study cities?

## Abstract

It is important to know where people travel for a number of reasons. Most important among these is the urgent need to transition away from fossil fuels: models of travel patterns can help identify the most effective interventions to make this happen. 

This paper explores globally scalable methods for generating estimates of travel patterns that build on areal and point-based data to estimate movements down to the road network level currently, and under scenarios of the change. The presentation is based on my experience developing the Propensity to Cycle Tool (PCT) and scaling it across all areas and major cyclable roads in England (see [pct.bike](http://ww.pct.bike/)) and recent experiments extending it internationally with a case study in Seville, Spain.

Methodologically I will explore the possibility of extending the methods to be dynamic and multi-modal, themes that will be prominent during the summer school.

## References

Lovelace, Robin, Anna Goodman, Rachel Aldred, Nikolai Berkoff, Ali Abbas, and James Woodcock. “The Propensity to Cycle Tool: An Open Source Online System for Sustainable Transport Planning.” Journal of Transport and Land Use 10, no. 1 (January 1, 2017). doi:10.5198/jtlu.2016.862.

Lovelace, Robin, and Richard Ellison. “Stplanr: A Package for Transport Planning.” The R Journal, Under Review. https://github.com/ropensci/stplanr.






